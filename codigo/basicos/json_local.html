<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JSON local con fetch</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; }
    .card { border: 1px solid #ddd; border-radius: 8px; padding: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
    .precio { color: #0a6; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Leer JSON local y pintar tarjetas</h1>
  <p id="estado"></p>
  <section id="productos" class="grid"></section>

  <script>
    const estado = document.getElementById("estado");
    const contenedor = document.getElementById("productos");

    // Cargar el archivo productos.json del mismo directorio
    async function cargarProductos() {
      estado.textContent = "Cargando...";
      try {
        const res = await fetch("./productos.json");
        if (!res.ok) throw new Error("No se pudo cargar el JSON");

        const productos = await res.json();
        pintar(productos);
        estado.textContent = "";
      } catch (err) {
        estado.textContent = "Error: " + err.message;
      }
    }

    // Crear las tarjetas a partir de la lista
    function pintar(lista) {
      contenedor.innerHTML = lista.map(p => `
        <article class="card">
          <h3>${p.nombre}</h3>
          <p class="precio">${p.precio.toFixed(2)} €</p>
          <p>Categoría: ${p.categoria}</p>
        </article>
      `).join("");
    }

    cargarProductos();
  </script>
</body>
</html>
